package org.opentestsystem.delivery.logging;

import org.opentestsystem.delivery.logging.EventLogger.IEventData;
import org.opentestsystem.delivery.logging.EventLogger.ILogEvent;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.util.HashMap;
import java.util.Map;

class EventParserAdaptor implements EventParser {
    final ILogEvent event;

    public EventParserAdaptor(final ILogEvent event) {
        this.event = event;
    }

    Map<IEventData, Object> preHandleFields(HttpServletRequest request) {
        return new HashMap<>();
    }

    Map<IEventData, Object> postHandleFields(HttpServletRequest request, HttpServletResponse response) {
        return new HashMap<>();
    }

    @Override
    public EventData parsePreHandle(HttpServletRequest request) {
        return EventData.create(event, preHandleFields(request));
    }

    @Override
    public EventData parsePostHandle(HttpServletRequest request, HttpServletResponse response) {
        return EventData.create(event, postHandleFields(request, response));
    }
}
